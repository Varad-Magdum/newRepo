<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="">
        <input type="text" name="" id="name">
        <input type="number" name="" id="score" min="1" max="5">
        <input type="submit" name="" id="btn">
    </form>
    <table>
        <tbody>
            <th>
               Name
            </th>
            <th>
                Score
            </th>
        </tbody>
    </table>





    
</body>
</html>
<script>
    document.querySelector("#btn").addEventListener("click",handleSubmit);



    function handleSubmit(event){
        event.preventDefault();

        

        
        let name= document.querySelector("#name").value;
        let score = document.querySelector("#score").value;
        let arr=JSON.parse(localStorage.getItem("students")) || [];
        let obj={
            n : name ,
            s: score
        }
        arr.push(obj);
        localStorage.setItem("students",JSON.stringify(arr));


        console.log(arr);


        displayData(arr);




// we are making new function bcoz its getting messy;
        // let row =document.createElement("tr");
        // let col1=document.createElement("td");
        // let col2=document.createElement("td");
        // col1.innerText=name;
        // col2.innerText=score;
        // row.append(col1,col2);
        // console.log(row);
        // document.querySelector("tbody").appendChild(row)



    }
    function displayData(arr){
        document.querySelector("tbody").innerHTML="";
        for(
            let i=0;i<arr.length;i++
        ){





         let row = document.createElement("tr");
        let col1 = document.createElement("td");
        let col2 = document.createElement("td");
        col1.innerText = name;
        col2.innerText = score;
        row.append(col1, col2);
        console.log(row);
        document.querySelector("tbody").appendChild(row)
    }
}


</script>